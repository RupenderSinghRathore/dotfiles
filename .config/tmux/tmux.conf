set -g default-command "${SHELL}"
set-option -g focus-events on

bind r source-file ~/.config/tmux/tmux.conf

bind-key q detach-client

bind m new-window '~/dotfiles/.config/scripts/tmux-fzf-new-window.sh'
bind v send-keys 'mycd' C-m
bind S send-keys 'n -S Session.vim' C-m
bind f run-shell "tmux neww ~/.config/scripts/tmux-session-dispensary.sh"
bind n new-window '~/dotfiles/.config/scripts/tmux-file-nvim-session.sh'
bind g neww -n "lazygit" -c "#{pane_current_path}" lazygit

bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"


set -g prefix C-Space
# set -g cursor-style block

set -ga terminal-overrides ",xterm-256color:RGB"
set -g detach-on-destroy off
set -g set-clipboard on
set-option -g status on


set-window-option -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind -T copy-mode-vi 'y' send-keys -X copy-pipe-and-cancel "clip.exe"

# unbind -T copy-mode-vi MouseDragEnd1Pane

set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on # Automatically renumber windows when one is closed

bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

set-option -g status-position top

bg="#16161E"
active_fg="#eb2862"
other_fg="#b1afbb"
inactive_fg="#5d5e75"

# set -g status-right '#(TZ=Asia/Kolkata date +"%a %b %d, %I:%M %p")'
# set-option -g status-interval 1
set -g status-left ''
set -g status-right "#[fg=${active_fg},bg=${bg}] #S "
set -g status-style "bg=${bg},fg=${other_fg}"

# window status style
# set -g window-status-current-format "#[fg=${active_fg},bg=${bg}] ‚óè#I:#W"
set -g window-status-current-format "#[fg=${active_fg},bg=${bg}] #I.#W"
set -g window-status-format "#[fg=${inactive_fg},bg=${bg}] #I.#W"

# in command prompt mode
set-option -g message-command-style "fg=${active_fg},bg=${bg}"
set-option -g message-style "fg=${active_fg},bg=${bg}"

# for copy and session select buffers
set-option -g mode-style "fg=#4b1561,bg=#d5a7e8"

# Resurrect
set -g @resurrect-capture-pane-contents 'on'
# set -g @continuum-restore 'on'
